-- MySQL Script generated by MySQL Workbench
-- Sat Dec  1 20:22:59 2018
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema trabajoGI1819
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema trabajoGI1819
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `trabajoGI1819` DEFAULT CHARACTER SET utf8 ;
USE `trabajoGI1819` ;

-- -----------------------------------------------------
-- Table `trabajoGI1819`.`tRol`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `trabajoGI1819`.`tRol` (
  `rolName` VARCHAR(50) NOT NULL,
  `rolDes` VARCHAR(255) NOT NULL,
  `admin` BIT(1) NULL,
  PRIMARY KEY (`rolName`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `trabajoGI1819`.`tUsuario`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `trabajoGI1819`.`tUsuario` (
  `nombre` VARCHAR(50) NOT NULL,
  `password` VARCHAR(50) NULL,
  `rolName` VARCHAR(50) NULL,
  PRIMARY KEY (`nombre`),
  INDEX `fk_tUsuario_tRol1_idx` (`rolName` ASC) VISIBLE,
  CONSTRAINT `fk_tUsuario_tRol1`
    FOREIGN KEY (`rolName`)
    REFERENCES `trabajoGI1819`.`tRol` (`rolName`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `trabajoGI1819`.`tPermiso`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `trabajoGI1819`.`tPermiso` (
  `rolName` VARCHAR(50) NOT NULL,
  `pantalla` VARCHAR(50) NOT NULL,
  `acceso` BIT(1) NULL,
  `modificacion` BIT(1) NULL,
  PRIMARY KEY (`pantalla`, `rolName`),
  CONSTRAINT `fk_tPermiso_tRol1`
    FOREIGN KEY (`rolName`)
    REFERENCES `trabajoGI1819`.`tRol` (`rolName`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `trabajoGI1819`.`tTipoPieza`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `trabajoGI1819`.`tTipoPieza` (
  `ID_TIPO` VARCHAR(4) NOT NULL,
  `NOMBRE` VARCHAR(80) NULL,
  PRIMARY KEY (`ID_TIPO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `trabajoGI1819`.`tPiezas`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `trabajoGI1819`.`tPiezas` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `NOMBRE` VARCHAR(255) NULL,
  `FABRICANTE` VARCHAR(255) NULL,
  `ID_TIPO` VARCHAR(4) NULL,
  PRIMARY KEY (`ID`),
  INDEX `fk_tPiezas_tTipoPieza1_idx` (`ID_TIPO` ASC) VISIBLE,
  CONSTRAINT `fk_tPiezas_tTipoPieza1`
    FOREIGN KEY (`ID_TIPO`)
    REFERENCES `trabajoGI1819`.`tTipoPieza` (`ID_TIPO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

-- -----------------------------------------------------
-- DATA for all the tables
-- -----------------------------------------------------
INSERT INTO tRol VALUES('administrador', 'administrador',1);
INSERT INTO tRol VALUES('usuario', 'usuario',0);
INSERT INTO tRol VALUES('invitado', 'invitado',0);
 


INSERT INTO tUsuario VALUES('admin', 'admin','administrador');
INSERT INTO tUsuario VALUES('user', 'user','usuario');
INSERT INTO tUsuario VALUES('inv', 'inv','invitado');
 



INSERT INTO tPermiso VALUES('administrador','LOGIN',1,1);
INSERT INTO tPermiso VALUES('administrador','MATERIAS',1,1);
INSERT INTO tPermiso VALUES('administrador','LIBROS',1,1);

INSERT INTO tPermiso VALUES('usuario','LOGIN',1,1);
INSERT INTO tPermiso VALUES('usuario','MATERIAS',1,0);
INSERT INTO tPermiso VALUES('usuario','LIBROS',1,0);

INSERT INTO tPermiso VALUES('invitado','LOGIN',1,1);
INSERT INTO tPermiso VALUES('invitado','MATERIAS',0,0);
INSERT INTO tPermiso VALUES('invitado','LIBROS',0,0);

 

 

INSERT INTO tTipoPieza VALUES('A','Chapa');
INSERT INTO tTipoPieza VALUES('B','Motor');
INSERT INTO tTipoPieza VALUES('C','Iluminacion');
INSERT INTO tTipoPieza VALUES('D','Sensores');
INSERT INTO tTipoPieza VALUES('E','Cristales');
INSERT INTO tTipoPieza VALUES('F','Pintura');
INSERT INTO tTipoPieza VALUES('G','Otros');


 

INSERT INTO tPiezas(NOMBRE,FABRICANTE,ID_TIPO) VALUES('PARAGOLPES DELANTERO NEGRO-LISO A IMPRIMAR','MAZDA','A');
INSERT INTO tPiezas(NOMBRE,FABRICANTE,ID_TIPO) VALUES('PARAGOLPES TRASERO-IMPRIMADO','MAZDA','A');
INSERT INTO tPiezas(NOMBRE,FABRICANTE,ID_TIPO) VALUES('REJILLA NEGRA','MAZDA','A');
INSERT INTO tPiezas(NOMBRE,FABRICANTE,ID_TIPO) VALUES('ALETA DELANTERA DCH CON AUJERO PARA PILOTO CX3 16','MAZDA','A');
INSERT INTO tPiezas(NOMBRE,FABRICANTE,ID_TIPO) VALUES('ALETA DELANTERA IZQ CON AUJERO PARA PILOTO CX3 16','MAZDA','A');
INSERT INTO tPiezas(NOMBRE,FABRICANTE,ID_TIPO) VALUES('Bombillas luz delantera','RENAULT','C');
INSERT INTO tPiezas(NOMBRE,FABRICANTE,ID_TIPO) VALUES('Bombillas señalizacion delantera','RENAULT','C');
INSERT INTO tPiezas(NOMBRE,FABRICANTE,ID_TIPO) VALUES('Bombillas luz trasera','RENAULT','C');
INSERT INTO tPiezas(NOMBRE,FABRICANTE,ID_TIPO) VALUES('Bombillas señalizacion trasera','RENAULT','C');
INSERT INTO tPiezas(NOMBRE,FABRICANTE,ID_TIPO) VALUES('Estuches de bombillas','RENAULT','C');
INSERT INTO tPiezas(NOMBRE,FABRICANTE,ID_TIPO) VALUES('Iluminacion LED','RENAULT','C');
INSERT INTO tPiezas(NOMBRE,FABRICANTE,ID_TIPO) VALUES('Bombillas interior','RENAULT','C');
INSERT INTO tPiezas(NOMBRE,FABRICANTE,ID_TIPO) VALUES('Bombillas Xenon','RENAULT','C');
INSERT INTO tPiezas(NOMBRE,FABRICANTE,ID_TIPO) VALUES('Juntas y otras piezas del motor','FORD','B');
INSERT INTO tPiezas(NOMBRE,FABRICANTE,ID_TIPO) VALUES('Alimentacion','FORD','B');
INSERT INTO tPiezas(NOMBRE,FABRICANTE,ID_TIPO) VALUES('Kits de distribucion','FORD','B');
INSERT INTO tPiezas(NOMBRE,FABRICANTE,ID_TIPO) VALUES('Correas','FORD','B');
INSERT INTO tPiezas(NOMBRE,FABRICANTE,ID_TIPO) VALUES('Poleas','FORD','B');
INSERT INTO tPiezas(NOMBRE,FABRICANTE,ID_TIPO) VALUES('Kits','FORD','B');
INSERT INTO tPiezas(NOMBRE,FABRICANTE,ID_TIPO) VALUES('Valvulas EGR','FORD','B');
INSERT INTO tPiezas(NOMBRE,FABRICANTE,ID_TIPO) VALUES('Herramienta especifica','FORD','B');
INSERT INTO tPiezas(NOMBRE,FABRICANTE,ID_TIPO) VALUES('Turbocompresores','FORD','B');
INSERT INTO tPiezas(NOMBRE,FABRICANTE,ID_TIPO) VALUES('Sensores electronicos y medidores de flujo','FORD','B');
INSERT INTO tPiezas(NOMBRE,FABRICANTE,ID_TIPO) VALUES('Cable de acelerador y starter','FORD','B');
 